(this.webpackJsonptwf_app=this.webpackJsonptwf_app||[]).push([[0],{36:function(t,e,a){},37:function(t,e,a){},38:function(t,e,a){},46:function(t,e,a){},47:function(t,e,a){},48:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a(2),i=a.n(n),c=a(29),l=a.n(c),r=(a(36),a(37),a(15)),d=a(16),o=a(14),u=a(18),h=a(17),b=a(13),j=(a(38),a(23));a(39),a(50);j.a.initializeApp({apiKey:"AIzaSyCzIV4QrRUu8NofDwZftarRYu7eyFVh7Dw",authDomain:"twf-app-d47bc.firebaseapp.com",databaseURL:"https://twf-app-d47bc-default-rtdb.firebaseio.com",projectId:"twf-app-d47bc",storageBucket:"twf-app-d47bc.appspot.com",messagingSenderId:"645927044942",appId:"1:645927044942:web:528029ad6f745c36bd801f"});var p=j.a.firestore(),O=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).state={email:"",isEmailValid:!1,password:"",isPasswordValid:!1},s.emailPattern=/.+@.+\.+$/,s.passwordMinLength=6,s.submitSignUp=s.submitSignUp.bind(Object(o.a)(s)),s.handleEmail=s.handleEmail.bind(Object(o.a)(s)),s.handlePassword=s.handlePassword.bind(Object(o.a)(s)),s}return Object(d.a)(a,[{key:"submitSignUp",value:function(){var t=this,e=this.state,a=e.email,s=e.password;this.state.isEmailValid&&this.state.isPasswordValid&&j.a.auth().createUserWithEmailAndPassword(a,s).then((function(e){t.props.history.push("/")})).catch((function(t){var e=t.message;console.log(e)}))}},{key:"handleEmail",value:function(t){var e=!1;this.emailPattern.test(t.target.value)&&(e=!0),this.setState({isEmailValid:e,email:t.target.value})}},{key:"handlePassword",value:function(t){var e=!1;t.target.value.length>this.passwordMinLength&&(e=!0),this.setState({isPasswordValid:e,password:t.target.value})}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"auth-box flex-center",children:Object(s.jsxs)("div",{className:"auth-box-inner",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{onInput:this.handleEmail,className:"auth-input",placeholder:"Email Address"}),Object(s.jsx)("input",{onInput:this.handlePassword,className:"auth-input",placeholder:"Password"}),Object(s.jsx)("button",{onClick:this.submitSignUp,className:"auth-button",children:"Sign Up Now"})]}),Object(s.jsx)("div",{children:"Already have an account?"}),Object(s.jsx)(b.b,{to:"/signin",children:Object(s.jsx)("button",{className:"auth-button",children:"Sign In using Email"})})]})})}}]),a}(n.Component),m=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).emailInput=i.a.createRef(),s.passwordInput=i.a.createRef(),s.submitSignIn=s.submitSignIn.bind(Object(o.a)(s)),s}return Object(d.a)(a,[{key:"submitSignIn",value:function(){var t=this;console.log(this.emailInput);var e=this.emailInput.current.value,a=this.passwordInput.current.value;j.a.auth().signInWithEmailAndPassword(e,a).then((function(e){t.props.history.push("/")})).catch((function(t){var e=t.message;console.log(e)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"auth-box flex-center",children:Object(s.jsxs)("div",{className:"auth-box-inner",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{ref:this.emailInput,className:"auth-input",placeholder:"Email Address"}),Object(s.jsx)("input",{ref:this.passwordInput,className:"auth-input",placeholder:"Password"}),Object(s.jsx)("button",{onClick:this.submitSignIn,className:"auth-button",children:"Sign In Now"})]}),Object(s.jsx)("div",{children:"Don't have an account? "}),Object(s.jsx)(b.b,{to:"/signup",children:Object(s.jsx)("button",{className:"auth-button",children:"Sign Up using Email"})})]})})}}]),a}(n.Component),v=a(5),f=(a(46),function(){return Object(s.jsx)("button",{onClick:function(t){var e=this;j.a.auth().signOut().then((function(){e.props.history.push("/signin")})).catch((function(t){}))},className:"sign-out-button",children:"Sign Out"})}),x=(a(47),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).state={uid:"",details:{}},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;j.a.auth().onAuthStateChanged((function(e){console.log("Asdjahskd"),e?p.collection("users").doc(e.uid).get().then((function(a){t.setState({uid:e.uid,details:a.data()})})):t.props.history.push("/signup")}))}},{key:"render",value:function(){return""==this.state.uid?Object(s.jsx)("div",{children:"Loading..."}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"dashboard-nav",children:[Object(s.jsx)(b.b,{to:"/edit-details",children:Object(s.jsx)("button",{className:"edit-button",children:"Edit Profile"})}),Object(s.jsx)(f,{})]}),Object(s.jsx)(g,{details:this.state.details})]})}}]),a}(n.Component)),g=function(t){if(t.details)var e=t.details,a=e.dob,n=e.placeBirth,i=e.favShow;else a="",n="",i="";return Object(s.jsx)("div",{className:"flex-center",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("h2",{children:"Your Details"})}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"detail-show",children:[Object(s.jsx)("label",{children:"DOB ->"}),Object(s.jsx)("span",{className:"detail-value",children:""==a?"Not Mentioned":a})]}),Object(s.jsxs)("div",{className:"detail-show",children:[Object(s.jsx)("label",{children:"Place of Birth ->"}),Object(s.jsx)("span",{className:"detail-value",children:""==n?"Not Mentioned":n})]}),Object(s.jsxs)("div",{className:"detail-show",children:[Object(s.jsx)("label",{children:"Favourite Show ->"}),Object(s.jsx)("span",{className:"detail-value",children:""==i?"Not Mentioned":i})]})]})]})})},w=x,N=(a(48),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).dobInput=i.a.createRef(),s.placeInput=i.a.createRef(),s.showInput=i.a.createRef(),s.submitDetails=s.submitDetails.bind(Object(o.a)(s)),s.state={uid:""},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;j.a.auth().onAuthStateChanged((function(e){e?t.setState({uid:e.uid}):t.props.history.push("/signup")}))}},{key:"submitDetails",value:function(t){var e=this;t.preventDefault(),j.a.auth().onAuthStateChanged((function(t){t&&p.collection("users").doc(t.uid).set({dob:e.dobInput.current.value,placeBirth:e.placeInput.current.value,favShow:e.showInput.current.value})}))}},{key:"render",value:function(){return""==this.state.uid?Object(s.jsx)("div",{children:"Loading..."}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"dashboard-nav",children:[Object(s.jsx)(b.b,{to:"/",children:Object(s.jsx)("button",{className:"dash-button",children:"Go to Dashboard"})}),Object(s.jsx)(f,{})]}),Object(s.jsx)("div",{className:"details-outer flex-center",children:Object(s.jsxs)("form",{onSubmit:this.submitDetails,children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"detail-field",children:[Object(s.jsx)("label",{children:"DOB"}),Object(s.jsx)("input",{ref:this.dobInput,name:"dob",type:"date"})]}),Object(s.jsxs)("div",{className:"detail-field",children:[Object(s.jsx)("label",{children:"Place of Birth"}),Object(s.jsx)("input",{ref:this.placeInput,name:"place_of_birth",type:"string"})]}),Object(s.jsxs)("div",{className:"detail-field",children:[Object(s.jsx)("label",{children:"Favourite Show"}),Object(s.jsx)("input",{ref:this.showInput,name:"fav_show",type:"string"})]})]}),Object(s.jsx)("button",{className:"save-button",type:"submit",children:"Save"})]})})]})}}]),a}(n.Component));var I=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("header",{className:"App-header",children:"The TWF App"}),Object(s.jsx)(b.a,{children:Object(s.jsxs)(v.c,{children:[Object(s.jsx)(v.a,{exact:!0,path:"/",component:w}),Object(s.jsx)(v.a,{path:"/edit-details",component:N}),Object(s.jsx)(v.a,{path:"/signup",component:O}),Object(s.jsx)(v.a,{path:"/signin",component:m})]})})]})};l.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(I,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.a831d479.chunk.js.map