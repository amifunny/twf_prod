{"version":3,"sources":["firebase.js","AuthBox.js","SignOutButton.js","Dashboard.js","UserDetails.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","SignUp","props","state","email","isEmailValid","password","isPasswordValid","emailPattern","passwordMinLength","submitSignUp","bind","handleEmail","handlePassword","this","auth","createUserWithEmailAndPassword","then","user","history","push","catch","error","errorMessage","message","console","log","e","isValid","test","target","value","setState","length","className","onInput","placeholder","onClick","to","Component","SignIn","emailInput","React","createRef","passwordInput","submitSignIn","current","signInWithEmailAndPassword","ref","SignOutButton","params","signOut","Dashboard","uid","details","onAuthStateChanged","collection","doc","get","data","ShowDetails","dob","placeBirth","favShow","UserDetails","dobInput","placeInput","showInput","submitDetails","preventDefault","set","onSubmit","name","type","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a831d479.chunk.js","sourcesContent":["/*\r\n    Initialize irebase app and configure it\r\n*/\r\nimport firebase from \"firebase/app\";\r\n\r\n// Add the Firebase services that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyCzIV4QrRUu8NofDwZftarRYu7eyFVh7Dw\",\r\n    authDomain: \"twf-app-d47bc.firebaseapp.com\",\r\n    databaseURL: \"https://twf-app-d47bc-default-rtdb.firebaseio.com\",\r\n    projectId: \"twf-app-d47bc\",\r\n    storageBucket: \"twf-app-d47bc.appspot.com\",\r\n    messagingSenderId: \"645927044942\",\r\n    appId: \"1:645927044942:web:528029ad6f745c36bd801f\"\r\n  };\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.firestore();\r\n\r\nexport {firebase,db};","import {Link} from 'react-router-dom';\r\nimport React,{ Component } from 'react';\r\nimport './AuthBox.css';\r\n\r\nimport {firebase} from \"./firebase\";\r\n\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email:\"\",\r\n            isEmailValid: false,\r\n            password:\"\",\r\n            isPasswordValid: false\r\n        }\r\n        \r\n        // validation constants\r\n        this.emailPattern = /.+@.+\\.+$/;\r\n        this.passwordMinLength = 6;\r\n\r\n        this.submitSignUp = this.submitSignUp.bind(this);\r\n        this.handleEmail = this.handleEmail.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n    }\r\n\r\n    submitSignUp(){\r\n        const {email,password} = this.state;\r\n\r\n        if(this.state.isEmailValid && this.state.isPasswordValid){\r\n            firebase.auth().createUserWithEmailAndPassword(email, password)\r\n            .then((user) => {\r\n                // Signed in \r\n                // ...\r\n                this.props.history.push('/');\r\n            })\r\n            .catch((error) => {\r\n                var errorMessage = error.message;\r\n                console.log(errorMessage);\r\n                // ..\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    handleEmail(e){\r\n        \r\n        let isValid = false;\r\n        if(this.emailPattern.test( e.target.value )){\r\n            isValid = true\r\n        }\r\n\r\n        this.setState({\r\n            isEmailValid: isValid,\r\n            email: e.target.value\r\n        });\r\n\r\n    }\r\n\r\n    handlePassword(e){\r\n\r\n        let isValid = false;\r\n        if( e.target.value.length>this.passwordMinLength ){\r\n            isValid = true\r\n        }\r\n\r\n        this.setState({\r\n            isPasswordValid: isValid,\r\n            password: e.target.value\r\n        });\r\n\r\n    }\r\n\r\n    render() { \r\n        return (  \r\n            <div className=\"auth-box flex-center\">\r\n                <div className=\"auth-box-inner\">\r\n                    <div>\r\n                        <input onInput={this.handleEmail} \r\n                        className=\"auth-input\" placeholder=\"Email Address\"></input>\r\n                        <input onInput={this.handlePassword}\r\n                        className=\"auth-input\" placeholder=\"Password\"></input>\r\n                        <button onClick={this.submitSignUp}\r\n                        className=\"auth-button\">Sign Up Now</button>\r\n                    </div>\r\n                    <div>Already have an account?</div>\r\n                    <Link to=\"/signin\">\r\n                        <button className=\"auth-button\">Sign In using Email</button>\r\n                    </Link>    \r\n                </div>    \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n \r\nclass SignIn extends Component {\r\n   \r\n    constructor(props) {\r\n        super(props);\r\n        // References for inputs to get value\r\n        this.emailInput = React.createRef();\r\n        this.passwordInput = React.createRef();\r\n\r\n        this.submitSignIn = this.submitSignIn.bind(this);\r\n\r\n    }\r\n\r\n    submitSignIn(){\r\n        console.log(this.emailInput);\r\n        const email = this.emailInput.current.value;\r\n        const password = this.passwordInput.current.value;\r\n\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .then((user) => {\r\n            // Signed in \r\n            // ...\r\n            this.props.history.push('/');\r\n        })\r\n        .catch((error) => {\r\n            var errorMessage = error.message;\r\n            console.log(errorMessage);\r\n            // ..\r\n        });\r\n    }\r\n\r\n    render() { \r\n        return (  \r\n            <div className=\"auth-box flex-center\">\r\n                <div className=\"auth-box-inner\">\r\n                    <div>\r\n                        <input ref={this.emailInput}\r\n                         className=\"auth-input\" placeholder=\"Email Address\"></input>\r\n                        <input ref={this.passwordInput}\r\n                        className=\"auth-input\" placeholder=\"Password\"></input>\r\n                        <button onClick={this.submitSignIn}\r\n                        className=\"auth-button\">Sign In Now</button>\r\n                    </div>\r\n                    <div>Don't have an account? </div>\r\n                    <Link to=\"/signup\">\r\n                        <button className=\"auth-button\">Sign Up using Email</button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport {SignUp,SignIn};","import './SignOutButton.css';\r\nimport {firebase} from './firebase';\r\n\r\nconst SignOutButton = () => {\r\n\r\n    function signOut(params) {\r\n        firebase.auth().signOut().then(() => {\r\n            // Sign-out successful.\r\n            this.props.history.push('/signin')\r\n        }).catch((error) => {\r\n            // An error happened.\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <button onClick={signOut}\r\n        className=\"sign-out-button\">Sign Out</button>\r\n    );\r\n}\r\n \r\nexport default SignOutButton;","import SignOutButton from './SignOutButton';\r\nimport './Dashboard.css';\r\nimport {Link} from 'react-router-dom';\r\nimport {firebase,db} from './firebase';\r\nimport { Component } from 'react';\r\n\r\nclass Dashboard extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            uid: \"\",\r\n            details: {}\r\n         }\r\n    }\r\n\r\n    componentDidMount(){\r\n        firebase.auth().onAuthStateChanged( (user)=> {\r\n            console.log(\"Asdjahskd\")\r\n            if (user) {\r\n                db.collection('users').doc(user.uid).get().then((doc) => {\r\n                    this.setState({\r\n                        uid: user.uid,\r\n                        details: doc.data()\r\n                    });\r\n                });\r\n            } else {\r\n              this.props.history.push('/signup');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        if(this.state.uid==\"\")\r\n            return( <div>Loading...</div> );\r\n        else{\r\n            return ( \r\n                <div>\r\n                    <div className=\"dashboard-nav\">\r\n                        <Link to='/edit-details'>\r\n                            <button className=\"edit-button\">Edit Profile</button>\r\n                        </Link>\r\n                        <SignOutButton />\r\n                    </div>\r\n                    <ShowDetails details={this.state.details} />\r\n                </div>   \r\n            );\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nconst ShowDetails = (props) => {\r\n\r\n    if(props.details){\r\n        var {dob,placeBirth,favShow} = props.details;\r\n    }else{\r\n        var dob =\"\";\r\n        var placeBirth =\"\";\r\n        var favShow =\"\";\r\n    }\r\n\r\n    return ( \r\n        <div className=\"flex-center\">\r\n            <div>\r\n                <div>\r\n                    <h2>Your Details</h2>\r\n                </div>\r\n                <div>\r\n                    <div className=\"detail-show\">\r\n                        <label>DOB -></label>\r\n                        <span className=\"detail-value\">\r\n                            { dob==\"\" ? \"Not Mentioned\":dob}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"detail-show\">\r\n                        <label>Place of Birth -></label>\r\n                        <span className=\"detail-value\">\r\n                            { placeBirth==\"\" ? \"Not Mentioned\":placeBirth}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"detail-show\">\r\n                        <label>Favourite Show -></label>\r\n                        <span className=\"detail-value\">\r\n                            { favShow==\"\" ? \"Not Mentioned\":favShow}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Dashboard;","import SignOutButton from './SignOutButton';\r\nimport './UserDetails.css';\r\nimport {Link} from 'react-router-dom';\r\nimport {firebase,db} from './firebase';\r\nimport React, { Component } from 'react';\r\n\r\nclass UserDetails extends Component {\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.dobInput = React.createRef();\r\n        this.placeInput = React.createRef();\r\n        this.showInput = React.createRef();\r\n        this.submitDetails = this.submitDetails.bind(this);\r\n        this.state={\r\n            uid: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        firebase.auth().onAuthStateChanged( (user)=> {\r\n            if (user) {\r\n                this.setState({\r\n                    uid:user.uid\r\n                })\r\n            } else {\r\n              this.props.history.push('/signup');\r\n            }\r\n        });\r\n    }\r\n\r\n    submitDetails(e){\r\n        e.preventDefault();\r\n        firebase.auth().onAuthStateChanged( (user)=> {\r\n            if (user) {\r\n                db.collection(\"users\").doc(user.uid).set({\r\n                    dob:this.dobInput.current.value,\r\n                    placeBirth: this.placeInput.current.value,\r\n                    favShow : this.showInput.current.value\r\n                });\r\n            } else {\r\n                // Some error occured\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    render (){\r\n        if(this.state.uid==\"\"){\r\n            return( <div>Loading...</div> );\r\n        }else{\r\n            return ( \r\n                <div>\r\n                    <div className=\"dashboard-nav\">\r\n                        <Link to='/'>\r\n                            <button className=\"dash-button\">Go to Dashboard</button>\r\n                        </Link>\r\n                        <SignOutButton />\r\n                    </div>\r\n                    <div className=\"details-outer flex-center\">\r\n                        <form onSubmit={this.submitDetails}>\r\n                            <div>\r\n                                <div className=\"detail-field\">\r\n                                    <label>DOB</label>\r\n                                    <input ref={this.dobInput} name=\"dob\" type=\"date\" />\r\n                                </div>\r\n                                <div className=\"detail-field\">\r\n                                    <label>Place of Birth</label>\r\n                                    <input ref={this.placeInput} name=\"place_of_birth\" type=\"string\" />\r\n                                </div>\r\n                                <div className=\"detail-field\">\r\n                                    <label>Favourite Show</label>\r\n                                    <input ref={this.showInput} name=\"fav_show\" type=\"string\" />\r\n                                </div>\r\n                            </div>\r\n                            <button className=\"save-button\" type=\"submit\">Save</button>\r\n                        </form>\r\n                    </div>    \r\n                </div>   \r\n                \r\n            );\r\n        }\r\n    }\r\n}\r\n \r\nexport default UserDetails;","import './App.css';\nimport {SignIn,SignUp} from './AuthBox';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Dashboard from './Dashboard';\nimport UserDetails from './UserDetails';\n\nfunction App() {\n  return (\n    <div>\n      <header className=\"App-header\">\n          The TWF App\n      </header>\n      <Router>\n          <Switch>\n               {/* URL paths react listens to */}\n              <Route exact path='/' component={Dashboard} />\n              <Route path='/edit-details' component={UserDetails} />\n              <Route path='/signup' component={SignUp} />\n              <Route path='/signin' component={SignIn} />\n          </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n// Attach react component to DOM\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}